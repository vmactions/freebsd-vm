name: 'FreeBSD-vm'
description: 'Run CI in FreeBSD for GitHub Actions'
inputs:
  osname:
    description: 'The OS name'
    required: true
    default: 'FreeBSD'
  prepare:
    description: 'Install some tools before CI runs'
    required: false
  run:
    description: 'The CI command to run'
    required: false
  release:
    description: 'The release version of FreeBSD vm'
    required: false
  arch:
    description: 'The cpu architecture of FreeBSD vm'
    required: false
  envs:
    description: 'The envs to pass into FreeBSD vm'
    required: false
  mem:
    description: 'Set the memory size of the vm'
    required: false
    default: '6144'
  cpu:
    description: 'Set the cpu cores of the vm'
    required: false
  nat:
    description: 'The NAT ports to FreeBSD vm'
    required: false
  usesh:
    description: 'Use sh instead of the default shell: csh'
    required: false
  sync:
    description: 'How to synchronize the source code to/from the VM, Values can be:  rsync(default), and sshfs'
    required: false
  copyback:
    description: 'whether or not to copy the build result repo back from the VM to the host Mac OS, defalt is True'
    required: false
  debug:
    description: 'output debug message'
    required: false
  data-dir:
    description: 'Directory to store VM data/images. Use a stable path to enable GitHub Actions caching.'
    required: false
  cache-dir:
    description: 'Directory to store anyvm cache. If set, overrides default temp cache path.'
    required: false
  sync-time:
    description: 'Synchronize the VM time with the ntp. If true, use --sync-time, if false, use --sync-time off'
    required: false
  disable-cache:
    description: 'Disable caching for apt packages and VM images. Default is false.'
    required: false
    default: 'false'
  debug-on-error:
    description: 'If true, enable remote VNC and wait for SSH connection on error. Default is empty.'
    required: false
    default: ''
branding:
  icon: 'activity'  
  color: 'green'

runs:
  using: 'node20'
  main: 'index.js'
